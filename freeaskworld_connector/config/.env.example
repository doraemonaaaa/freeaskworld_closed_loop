# FreeAskAgent Closed-Loop Configuration
# Copy this file to .env and customize for your setup

# =============================================================================
# WebRTC Video Streaming
# =============================================================================

# Frame rate for video tracks (fps)
# Unity will send frames at this rate
# Recommended: 30 for smooth video, 15-20 for lower bandwidth
WEBRTC_FRAMERATE=30

# Video bitrate (bits per second)
# Higher = better quality but more bandwidth
# Recommended: 2000000 (2 Mbps) for local network
WEBRTC_BITRATE=2000000

# =============================================================================
# Preview HTTP Server
# =============================================================================

# JPEG preview update interval (seconds)
# How often to encode frames for web preview
# Recommended: 0.1 (10 fps preview) to balance quality and CPU
JPEG_UPDATE_INTERVAL=0.1

# Preview server port
PREVIEW_PORT=8080

# Auto-open preview in browser (0=no, 1=yes)
PREVIEW_AUTO_OPEN=0

# Preview URL (override for remote access)
# PREVIEW_URL=http://your-server-ip:8080/viewer

# =============================================================================
# WebSocket Server
# =============================================================================

# WebSocket server host (0.0.0.0 for all interfaces)
WS_HOST=0.0.0.0

# WebSocket server port
WS_PORT=8766

# WebSocket ping interval (seconds)
WS_PING_INTERVAL=20

# WebSocket ping timeout (seconds)
WS_PING_TIMEOUT=30

# Maximum message size (bytes)
# Default: 30MB for RGBD frames
WS_MAX_SIZE=30485760

# =============================================================================
# WebRTC ICE Configuration
# =============================================================================

# ICE transport policy: "all" or "relay"
# Use "all" for localhost (default), "relay" to force TURN
ICE_TRANSPORT_POLICY=all

# ICE servers configuration (JSON array)
# Default: Google STUN server for localhost
# For remote connections, add TURN servers:
# ICE_SERVERS='[{"urls":"stun:stun.l.google.com:19302"},{"urls":"turn:your-turn-server.com:3478","username":"user","credential":"pass"}]'
ICE_SERVERS='[{"urls":"stun:stun.l.google.com:19302"}]'

# =============================================================================
# AgentFlow Solver (for agent_baseline.py)
# =============================================================================

# LLM engine name (gpt-4o, gpt-4-turbo, etc.)
LLM_ENGINE_NAME=gpt-4o

# Fast mode: use lightweight planner-only solver
FAST_MODE=true

# OpenAI API configuration (loaded from agentflow/.env)
# See agentflow/.env for OPENAI_API_KEY and Proxy_API_BASE

# =============================================================================
# Debugging
# =============================================================================

# Directory to persist RGBD frames (optional, for debugging)
# Leave empty to disable
# PERSIST_RGBD_DIR=/tmp/rgbd_frames

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
